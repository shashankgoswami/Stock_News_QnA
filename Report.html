<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock News Question and Answering RAG Bot</title>
    <style>
        @media print {
            body { margin: 0; }
            .page-break { page-break-before: always; }
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 40px;
            color: #333;
            background: white;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #2c5aa0;
            padding-bottom: 20px;
        }
        
        h1 {
            color: #2c5aa0;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .subtitle {
            color: #666;
            font-size: 18px;
            font-style: italic;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #2c5aa0;
            font-size: 22px;
            margin-top: 35px;
            margin-bottom: 15px;
            border-left: 4px solid #2c5aa0;
            padding-left: 15px;
        }
        
        h3 {
            color: #444;
            font-size: 18px;
            margin-top: 25px;
            margin-bottom: 12px;
        }
        
        ul {
            margin: 15px 0;
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .architecture-box {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        
        .file-structure {
            background-color: #f1f3f4;
            border-left: 4px solid #34a853;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #2c5aa0;
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .tech-stack {
            background-color: #e8f4f8;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .workflow-steps {
            counter-reset: step-counter;
        }
        
        .workflow-steps li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            position: relative;
            padding-left: 40px;
        }
        
        .workflow-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background-color: #2c5aa0;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .feature-highlight {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #28a745;
        }
        
        .next-steps {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        strong {
            color: #2c5aa0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>STOCK NEWS QUESTION AND ANSWERING RAG BOT</h1>
        <div class="subtitle">Retrieval-Augmented Generation</div>
    </div>

    <h2>Stock News RAG System</h2>
    <ul>
        <li>Retrieves relevant stock news based on user queries</li>
        <li>Augments LLM context with news metadata</li>
        <li>Generates personalized answers with explanations</li>
    </ul>

    <h2>Dataset</h2>
    <ul>
        <li><strong>Source:</strong> Stock news articles embedded in JSON format</li>
        <li><strong>Content:</strong> News title, link, ticker, full article, company</li>
    </ul>

    <h2>Architecture Overview</h2>
    <div class="architecture-box">
        <strong>Mermaid Graph:</strong><br><br>
        A[User Query] → B[Query Processing]<br>
        B → C[Embedding Generation]<br>
        C → D[Vector Search]<br>
        D → E[Relevant News Retrieval]<br>
        E → F[Context Augmentation]<br>
        F → G[LLM Generation]<br>
        G → H[Structured Response]
    </div>

    <h2>Core Components</h2>
    <ul>
        <li><strong>Data Pipeline:</strong> Loading and preprocessing news metadata</li>
        <li><strong>Embedding System:</strong> Converting text to vector representations</li>
        <li><strong>Vector Database:</strong> Efficient similarity search with ChromaDB</li>
        <li><strong>Retrieval Engine:</strong> Multiple strategies for finding relevant content</li>
        <li><strong>Generation System:</strong> Multiple LLMs for response creation</li>
    </ul>

    <h2>Implementation Details</h2>
    <h3>Contents</h3>
    <div class="file-structure">
├── README.md                 # This documentation
└── Stock_News_QnA.ipynb     # Complete implementation notebook
    </div>

    <h2>Technology Stack</h2>
    <div class="tech-stack">
        <ul>
            <li><strong>Embeddings:</strong> SentenceTransformers (all-mpnet-base-v2)</li>
            <li><strong>Vector Database:</strong> ChromaDB for similarity search</li>
            <li><strong>Language Model:</strong> Gemini, Cohere, Llama and Mistral for response generation</li>
            <li><strong>Data Processing:</strong> Pandas for metadata manipulation</li>
            <li><strong>Structured Output:</strong> Pydantic models for response formatting</li>
        </ul>
    </div>

    <h2>RAG Workflow Implementation</h2>
    <ul>
        <li><strong>Data Loading and Preprocessing</strong><br>Load and preprocess news data</li>
        <li><strong>Embedding Creation</strong><br>Generate vector embeddings for news and its metadata</li>
        <li><strong>Vector Database Setup</strong><br>ChromaDB collection for similarity search</li>
        <li><strong>Retrieval Strategies</strong></li>
    </ul>

    <h3>Basic Retrieval</h3>
    <ul>
        <li>Simple semantic similarity search</li>
        <li>Query expansion for improved recall</li>
        <li>Relevance scoring and ranking</li>
    </ul>

    <h3>HyDE (Hypothetical Document Embedding)</h3>
    <ul>
        <li>Generate hypothetical news descriptions</li>
        <li>Enhanced semantic matching</li>
        <li>Better retrieval for abstract queries</li>
    </ul>

    <h3>Query Decomposition</h3>
    <ul>
        <li>Break complex queries into sub-queries</li>
        <li>Comprehensive result aggregation</li>
    </ul>

    <h2>Key Features</h2>
    <h3>Multi-Strategy Retrieval</h3>
    <ul>
        <li><strong>Semantic Search:</strong> Understanding query intent and context</li>
        <li><strong>Hybrid Approaches:</strong> Combining multiple retrieval methods</li>
        <li><strong>Query Enhancement:</strong> Expanding and refining user queries</li>
    </ul>

    <h2>Retrieval Methods Comparison</h2>
    <table>
        <thead>
            <tr>
                <th>Method</th>
                <th>Strengths</th>
                <th>Use Cases</th>
                <th>Performance</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Basic Retrieval</td>
                <td>Simple, fast, reliable</td>
                <td>Direct news searches</td>
                <td>High precision</td>
            </tr>
            <tr>
                <td>HyDE</td>
                <td>Better abstract queries</td>
                <td>Inspiring stories</td>
                <td>Medium precision, high recall</td>
            </tr>
            <tr>
                <td>Query Decomposition</td>
                <td>Complex multi-part queries</td>
                <td>Detailed requirement matching</td>
                <td>High coverage</td>
            </tr>
        </tbody>
    </table>

    <h2>Technical Implementation</h2>
    <h3>Embedding Pipeline</h3>
    <ul>
        <li><strong>Chunking Strategy:</strong> Optimize text segments for embedding</li>
        <li><strong>Vector Generation:</strong> Create high-quality embeddings</li>
        <li><strong>Storage Optimization:</strong> Efficient vector database management</li>
    </ul>

    <h3>Retrieval Optimization</h3>
    <ul>
        <li><strong>Similarity Thresholds:</strong> Balanced precision-recall trade-offs</li>
        <li><strong>Result Ranking:</strong> Multi-factor relevance scoring</li>
        <li><strong>Diversity Enhancement:</strong> Avoid redundant information</li>
        <li><strong>Context Window Management:</strong> Optimal information selection</li>
    </ul>

    <h3>Response Quality</h3>
    <ul>
        <li><strong>Fact Checking:</strong> Verify news information accuracy</li>
        <li><strong>Coherence Validation:</strong> Ensure logical explanations</li>
        <li><strong>Personalization:</strong> Adapt responses to user preferences</li>
        <li><strong>Safety Filtering:</strong> Remove inappropriate content</li>
    </ul>

    <h2>Performance Metrics</h2>
    <div class="metrics-grid">
        <div class="metric-card">
            <h3>Retrieval Quality</h3>
            <ul>
                <li><strong>Relevance Score:</strong> How well retrieved news matches queries</li>
                <li><strong>Diversity Index:</strong> Variety in news types</li>
                <li><strong>Coverage Rate:</strong> Percentage of database effectively searchable</li>
                <li><strong>Response Time:</strong> Query processing and generation speed</li>
            </ul>
        </div>
        <div class="metric-card">
            <h3>User Experience</h3>
            <ul>
                <li><strong>Answer Accuracy:</strong> User satisfaction with suggestions</li>
                <li><strong>Explanation Quality:</strong> Clarity and helpfulness of reasoning</li>
                <li><strong>System Responsiveness:</strong> End-to-end response times</li>
                <li><strong>Result Consistency:</strong> Stable performance across query types</li>
            </ul>
        </div>
    </div>

    <h2>Next Steps</h2>
    <div class="next-steps">
        <ul>
            <li><strong>Experiment with Data:</strong> Try different datasets, like quarterly and yearly financial reports</li>
            <li><strong>Optimize Performance:</strong> Fine-tune retrieval and generation parameters</li>
            <li><strong>Scale the System:</strong> Implement production-ready optimizations</li>
            <li><strong>Add Features:</strong> Incorporate user feedback and personalization</li>
        </ul>
    </div>

    <script>
        // Print functionality
        window.onload = function() {
            // Auto-print when page loads (optional)
            // window.print();
        };
    </script>
</body>
</html>